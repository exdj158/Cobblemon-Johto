{
    "initializationAction": [
        "q.run_command('team join battletower ' + q.player.username + '');"
    ],
    "escapeAction": [
        "q.run_command('team join default ' + q.player.username + '');",
        "q.dialogue.close();"
    ],
    "names": [
        "Battle Tower Clerk"
    ],
    "speakers": {
        "npc": {
            "name": "Battle Tower Clerk",
            "face": {
                "type": "artificial",
                "modelType": "npc",
                "identifier": "cobblemon:shopman",
                "isLeftSide": true
            }
        }
    },
    "pages": [
        {
            "id": "greeting",
            "speaker": "npc",
            "lines": [
                "Welcome to the Exchange Service Corner! Would you like to trade in your BP for some prizes?"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": "q.dialogue.set_page('buy1');"
                    },
                    {
                        "text": "No Thanks",
                        "value": "nothanks",
                        "action": "q.dialogue.set_page('end');"
                    }
                ]
            }
        },
        {
            "id": "buy1",
            "speaker": "npc",
            "lines": [
                "Which item would you like to purchase?"
            ],
            "input": {
                "type": "option",
                "vertical": true,
                "options": [
                    {
                        "text": "Toxic Orb",
                        "value": "toxicorb",
                        "action": "q.dialogue.set_page('picktoxicorb');"
                    },
                    {
                        "text": "Flame Orb",
                        "value": "flameorb",
                        "action": "q.dialogue.set_page('pickflameorb');"
                    },
                    {
                        "text": "White Herb",
                        "value": "whiteherb",
                        "action": "q.dialogue.set_page('pickwhiteherb');"
                    },
                    {
                        "text": "Power Herb",
                        "value": "powerherb",
                        "action": "q.dialogue.set_page('pickpowerherb');"
                    },
                    {
                        "text": "Bright Powder",
                        "value": "brightpowder",
                        "action": "q.dialogue.set_page('pickbrightpowder');"
                    }
                ]
            }
        },

        {
            "id": "picktoxicorb",
            "speaker": "npc",
            "lines": [
                "A Toxic Orb is a held item that badly poisons its holder at the end of the turn. One goes for 16BP."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": [
                            "q.run_command('scoreboard players set ' + q.player.username + ' TriggerCommand 202');",
                            "q.dialogue.set_page('buyend');"
                        ]
                    },
                    {
                        "text": "Go Back",
                        "value": "goback",
                        "action": [
                            "q.dialogue.set_page('buy1');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "pickflameorb",
            "speaker": "npc",
            "lines": [
                "A Flame Orb is a held item that burns its holder at the end of the turn. One goes for 16BP."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": [
                            "q.run_command('scoreboard players set ' + q.player.username + ' TriggerCommand 203');",
                            "q.dialogue.set_page('buyend');"
                        ]
                    },
                    {
                        "text": "Go Back",
                        "value": "goback",
                        "action": [
                            "q.dialogue.set_page('buy1');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "pickwhiteherb",
            "speaker": "npc",
            "lines": [
                "A White Herb is a held item that restores all of the holder's decreased stats. It will be consumed after use. One goes for 32BP."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": [
                            "q.run_command('scoreboard players set ' + q.player.username + ' TriggerCommand 204');",
                            "q.dialogue.set_page('buyend');"
                        ]
                    },
                    {
                        "text": "Go Back",
                        "value": "goback",
                        "action": [
                            "q.dialogue.set_page('buy1');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "pickpowerherb",
            "speaker": "npc",
            "lines": [
                "A Power Herb is a held item that allows the holder to immediately use a move that would normally require a turn to charge. It is consumed after use. One goes for 32BP."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": [
                            "q.run_command('scoreboard players set ' + q.player.username + ' TriggerCommand 205');",
                            "q.dialogue.set_page('buyend');"
                        ]
                    },
                    {
                        "text": "Go Back",
                        "value": "goback",
                        "action": [
                            "q.dialogue.set_page('buy1');"
                        ]
                    }
                ]
            }
        },
        {
            "id": "pickbrightpowder",
            "speaker": "npc",
            "lines": [
                "Bright Powder is a held item that causes the opponent's attacks targeted at the holder to have a 10% extra reduction in accuracy. One goes for 48BP."
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Buy",
                        "value": "buy",
                        "action": [
                            "q.run_command('scoreboard players set ' + q.player.username + ' TriggerCommand 206');",
                            "q.dialogue.set_page('buyend');"
                        ]
                    },
                    {
                        "text": "Go Back",
                        "value": "goback",
                        "action": [
                            "q.dialogue.set_page('buy1');"
                        ]
                    }
                ]
            }
        },


        {
            "id": "buyend",
            "speaker": "npc",
            "lines": [
                "Here you are! Thank you!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Close",
                        "value": "close",
                        "action": [
                            "q.run_command('team join default ' + q.player.username + '');",
                            "q.dialogue.close();"
                        ]
                    }
                ]
            }
        },
        {
            "id": "end",
            "speaker": "npc",
            "lines": [
                "Please come again!"
            ],
            "input": {
                "type": "option",
                "vertical": false,
                "options": [
                    {
                        "text": "Close",
                        "value": "close",
                        "action": [
                            "q.run_command('team join default ' + q.player.username + '');",
                            "q.dialogue.close();"
                        ]
                    }
                ]
            }
        }
    ]
}